#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Результаты поиска приоритизированных пользователей
Создано: 2025-08-29 10:54:27

ЛОГИКА РАБОТЫ:
1. Из базы ИСКЛЮЧЕНЫ пользователи с активными напоминаниями: 41
2. Из базы ИСКЛЮЧЕНЫ покупатели премиум-наборов: 187
3. Из оставшихся пользователей ОТОБРАНО лучших: 500

ИТОГО В СПИСКЕ: 500 приоритизированных пользователей (БЕЗ исключенных)
"""

# Список conv_id приоритизированных пользователей (топ-500)
# Отсортированы по убыванию приоритета (теплота + воронка)
PRIORITIZED_CONV_IDS = [16785347, 155481997, 33882024, 308569953, 53720781, 302283444, 221989029, 204584264, 164608196, 305633429, 214607570, 138878467, 2969470, 94466115, 429667887, 59760210, 325865093, 92347530, 145227384, 172019260, 336911876, 587548065, 17135001, 92009136, 6128051, 292778559, 520919580, 208623552, 242813231, 377428865, 633430943, 71345995, 58238434, 27961642, 280995141, 1920073, 85406627, 160381293, 374860095, 204716256, 9865456, 52170853, 49842038, 165902418, 73398779, 330660529, 8056027, 499837481, 212794448, 272339246, 7345716, 132189337, 4770390, 24148818, 180245046, 367535398, 3707876, 216831494, 545926093, 76394544, 223581294, 33112452, 266761506, 292439193, 33314259, 39918168, 185133424, 5723155, 388912230, 35588915, 32432680, 64716667, 56785535, 332315653, 28114479, 1044068, 518426024, 98488218, 3391444, 7792738, 242632811, 5708490, 698216693, 45752132, 566939608, 535686426, 197955709, 3892096, 638743986, 408845575, 364619731, 342475825, 19006049, 198206938, 65291301, 11692788, 361617946, 267464684, 549172577, 86785408, 12630430, 153004341, 1418808, 234107213, 221693788, 152236796, 261065896, 53245164, 66272981, 160308276, 219043365, 288976647, 173543698, 389905222, 22865932, 10084989, 67461932, 311266454, 93025023, 41746465, 786537, 45098050, 325184046, 225292919, 84439096, 183376287, 598083533, 132187193, 87028543, 40711288, 173825538, 180157957, 118417926, 156554926, 610421993, 233894109, 135363064, 322232526, 7713001, 1711099, 570370578, 91697622, 30689122, 344840744, 194061750, 276366189, 61174107, 515099352, 183287015, 267127971, 554182050, 63493196, 230664697, 111497404, 576575261, 29736280, 10903565, 220258686, 9812880, 12379334, 345854232, 334533242, 5631508, 306396045, 559077046, 342623926, 525906667, 183436116, 265272951, 668941330, 13803040, 182073109, 211198997, 338026139, 29336606, 145906440, 1042314163, 540658979, 65396468, 170561380, 16213770, 15180420, 33739845, 156766971, 424688726, 413708069, 166854707, 40516709, 134245086, 110593618, 169542089, 598235850, 167229067, 165950902, 301259632, 404409443, 133352441, 109368, 403982553, 133774868, 4061301, 285600876, 108800354, 4027194, 2382454, 13832107, 132954551, 402959749, 40074, 29533725, 402595531, 27321847, 21173034, 101006363, 56450049, 133092945, 134562222, 118626734, 94898849, 228767316, 28691381, 8206833, 452755856, 506810897, 78646073, 159789954, 136248573, 139283422, 23077003, 132073827, 137915248, 1378095, 16182441, 138074131, 162930422, 397140066, 13904094, 10856404, 28877616, 254677933, 133156532, 621303852, 165460383, 1680631, 251684993, 13957333, 579808782, 10476350, 100793676, 11009313, 261951, 110660110, 107124798, 28705610, 145959743, 22494010, 15749289, 231628222, 208489845, 130818901, 135464215, 23233077, 2846712, 152859487, 4118976, 255133621, 216736599, 293706563, 395614032, 324799350, 13513645, 10674414, 395989151, 396400377, 397711666, 214361079, 2123142, 12057924, 115247538, 23262642, 136421298, 393925, 6799339, 147586362, 395872764, 298632142, 91738862, 77775716, 393821271, 395082900, 33932819, 339791976, 39091586, 390553383, 21476363, 4523494, 126370894, 232882796, 202987669, 108342085, 1137468, 1582654, 306087539, 126422001, 12910121, 39953745, 13470569, 2767150, 27689878, 105269404, 115094217, 132515518, 276332794, 123890051, 198141619, 372404785, 10565750, 101662384, 141461913, 11532465, 12531603, 15983496, 1235029, 123627106, 27532376, 111080573, 111214896, 123034053, 196804825, 139899880, 10578728, 13223184, 326125234, 110645262, 36146119, 11650216, 116363585, 189228487, 121811996, 316263368, 37347685, 189357758, 518506738, 188936971, 274243145, 12224915, 184951752, 400672624, 23030056, 1060763, 187960371, 585701622, 136850276, 129255431, 190274330, 11840879, 188507227, 194727012, 184042053, 225371508, 49324340, 274183915, 10314862, 4111302, 136414801, 1223399, 182416375, 34265430, 200959658, 141814497, 13475684, 145564254, 27330153, 142926616, 380639658, 347172706, 382652553, 10891778, 283431194, 19956503, 10321177, 445955135, 6796994, 11349426, 10338243, 387495679, 20188186, 10874763, 133528062, 10295313, 100457339, 19597407, 204047, 286503821, 134102660, 127422182, 386790510, 120756093, 44270703, 103900539, 12128440, 114631503, 1223393, 16208602, 181212178, 21085578, 119170820, 11783724, 131605945, 33132139, 155810052, 13028502, 11703804, 332454347, 180549614, 33259129, 13065988, 107630722, 271154807, 135015440, 18142159, 116040542, 319007530, 10348388, 1037691, 11902747, 231805814, 117931655, 21323174, 15323130, 634446980, 117986125, 4097191, 154377256, 136135878, 7590276, 135944120, 287763308, 179854840, 101864677, 10717961, 44587057, 118313851, 4271325, 6650200, 156400081, 325417314, 532338906, 124807838, 10306356, 178513732, 394915833, 133706549, 179451243, 40928050, 11837080, 160976813, 104850693, 10249913, 185995457, 232465913, 303826321, 104157368, 161733375, 38012314, 129808533, 654126353, 4484724, 1206940, 236705331, 10617912, 2015452, 32285821, 24467987, 138914901, 33995954, 263333260, 108464232, 11508887, 32493052, 10536639, 417622172, 3143071, 33923154, 332425679, 114214078, 266665933, 165897720, 80866484, 12251470, 166245601, 267860500, 16704848, 107199823, 168386810, 283263081, 175571543, 605498848, 101387185, 116976274]

# Статистика поиска (только для выбранных 500 пользователей)
SEARCH_STATS = {
    'selected_users': 500,
    'excluded_with_reminders': 41,
    'excluded_premium_buyers': 187,
    'warmth_distribution': {'горячий': 127, 'клиент': 51, 'тёплый': 300, 'холодный': 20, 'неизвестно': 2},
    'funnel_distribution': {'решение принято (ожидаем оплату)': 89, 'клиент думает': 37, 'у клиента есть возражения': 64, 'сделано предложение по продуктам': 271, 'сделано новое предложение': 39},
    'search_timestamp': '20250829_105427'
}

if __name__ == "__main__":
    print(f"Загружено {len(PRIORITIZED_CONV_IDS)} приоритизированных пользователей")
    print(f"Исключено пользователей с активными напоминаниями: {SEARCH_STATS['excluded_with_reminders']}")
    print(f"Исключено покупателей премиум-наборов: {SEARCH_STATS['excluded_premium_buyers']}")
    print(f"Статистика выбранных пользователей: {SEARCH_STATS}")
